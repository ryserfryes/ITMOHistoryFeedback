# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å.–§–æ—Ä–º—ã

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–°—Ç—É–¥–µ–Ω—Ç –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É** ‚Üí –Ø–Ω–¥–µ–∫—Å.–§–æ—Ä–º—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç JSON-RPC webhook
2. **Webhook handler –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ** ‚Üí –ó–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ API
3. **–û–±–Ω–æ–≤–ª—è–µ—Ç —Ñ–∞–π–ª –¥–∞–Ω–Ω—ã—Ö –≤ GitHub** ‚Üí –ó–∞–ø—É—Å–∫–∞–µ—Ç GitHub Action
4. **GitHub Action —Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–∞–π—Ç** ‚Üí –ù–æ–≤—ã–π –æ—Ç–∑—ã–≤ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ

**–í—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2-3 –º–∏–Ω—É—Ç—ã –ø–æ—Å–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º—ã

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –®–∞–≥ 1: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

#### –¢–æ–∫–µ–Ω GitHub:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [GitHub Settings ‚Üí Developer settings ‚Üí Personal access tokens](https://github.com/settings/tokens)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω —Å –ø—Ä–∞–≤–∞–º–∏:
   - `repo` (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º)
   - `workflow` (–∑–∞–ø—É—Å–∫ GitHub Actions)
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω - –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è webhook

#### –¢–æ–∫–µ–Ω –Ø–Ω–¥–µ–∫—Å.–§–æ—Ä–º—ã:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à—É —Ñ–æ—Ä–º—É –≤ [–Ø–Ω–¥–µ–∫—Å.–§–æ—Ä–º–∞—Ö](https://forms.yandex.ru/)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–æ—Ä–º—ã
3. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "API" –∏–ª–∏ "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"
4. –°–æ–∑–¥–∞–π—Ç–µ API —Ç–æ–∫–µ–Ω –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –æ—Ç–≤–µ—Ç–∞–º

### –®–∞–≥ 2: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ webhook handler

#### –í–∞—Ä–∏–∞–Ω—Ç A: Heroku (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Heroku CLI
# 2. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
heroku create your-webhook-app-name

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
heroku config:set GITHUB_TOKEN=your_github_token
heroku config:set GITHUB_REPO=username/repo-name
heroku config:set YANDEX_API_TOKEN=your_yandex_token

# 4. –°–æ–∑–¥–∞–π—Ç–µ Procfile
echo "web: python webhook_handler.py" > Procfile

# 5. –°–æ–∑–¥–∞–π—Ç–µ requirements.txt
echo -e "flask\nrequests" > requirements.txt

# 6. –î–µ–ø–ª–æ–π
git add .
git commit -m "Deploy webhook handler"
git push heroku main
```

#### –í–∞—Ä–∏–∞–Ω—Ç B: Railway (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [Railway.app](https://railway.app/)
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   - `GITHUB_TOKEN` = –≤–∞—à GitHub —Ç–æ–∫–µ–Ω
   - `GITHUB_REPO` = username/repo-name
   - `YANDEX_API_TOKEN` = –≤–∞—à —Ç–æ–∫–µ–Ω –Ø–Ω–¥–µ–∫—Å.–§–æ—Ä–º—ã
4. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–≤–µ—Ä–Ω–µ—Ç webhook

#### –í–∞—Ä–∏–∞–Ω—Ç C: Vercel
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Vercel CLI: `npm i -g vercel`
2. –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞–π—Ç–µ `vercel.json`:
```json
{
  "functions": {
    "webhook_handler.py": {
      "runtime": "python3.9"
    }
  },
  "routes": [
    { "src": "/webhook/yandex-form", "dest": "/webhook_handler.py" },
    { "src": "/health", "dest": "/webhook_handler.py" }
  ]
}
```
3. –î–µ–ø–ª–æ–π: `vercel --prod`

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook –≤ –Ø–Ω–¥–µ–∫—Å.–§–æ—Ä–º–∞—Ö

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–æ—Ä–º—ã** –≤ –Ø–Ω–¥–µ–∫—Å.–§–æ—Ä–º–∞—Ö
2. **–ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "–î–µ–π—Å—Ç–≤–∏—è"** –∏–ª–∏ "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"
3. **–í—ã–±–µ—Ä–∏—Ç–µ "JSON-RPC"** –∏–ª–∏ "Webhook"
4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
   - **URL:** `https://your-webhook-app.herokuapp.com/webhook/yandex-form`
   - **–ú–µ—Ç–æ–¥:** `POST`
   - **–í—ã–ø–æ–ª–Ω—è—Ç—å –¥–µ–π—Å—Ç–≤–∏—è:** `–≤—Å–µ–≥–¥–∞` –∏–ª–∏ `–ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏`
   - **–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –¥–µ–π—Å—Ç–≤–∏—è:** `–ù–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å`

5. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**

### –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ webhook endpoint:**
```bash
curl https://your-webhook-app.herokuapp.com/health
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: {"status": "ok"}
```

2. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç** –≤ —Ñ–æ—Ä–º–µ
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ webhook:**
   - Heroku: `heroku logs --tail -a your-webhook-app-name`
   - Railway: –≤ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
   - Vercel: –≤ dashboard

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ GitHub Actions:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ‚Üí Actions
   - –î–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è workflow "Update Site Data"

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON-RPC –∑–∞–ø—Ä–æ—Å–∞

–Ø–Ω–¥–µ–∫—Å.–§–æ—Ä–º—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç webhook –≤ —Ç–∞–∫–æ–º —Ñ–æ—Ä–º–∞—Ç–µ:
```json
{
  "jsonrpc": "2.0",
  "method": "form.response.created",
  "params": {
    "form_id": "68713abe90fa7b9f66ab5c53",
    "response_id": "12345",
    "created_at": "2025-01-28T10:30:00Z"
  },
  "id": "webhook-123"
}
```

## üêõ –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º

### Webhook –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL webhook –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ñ–æ—Ä–º—ã
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–∏—Å –¥–æ—Å—Ç—É–ø–µ–Ω: `curl https://your-app.com/health`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞

### GitHub Action –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ —Ç–æ–∫–µ–Ω–∞ GitHub
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `GITHUB_REPO` —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ (username/repo-name)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å —Ñ–∞–π–ª `.github/workflows/update-data.yml`

### –î–∞–Ω–Ω—ã–µ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –Ø–Ω–¥–µ–∫—Å.–§–æ—Ä–º—ã
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ ID —Ñ–æ—Ä–º—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ webhook handler

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
# Heroku
heroku config -a your-app-name

# Railway - –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
# Vercel - –≤ dashboard
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ webhook:
- **Heroku:** `heroku logs --tail -a your-app-name`
- **Railway:** Logs –≤ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **Vercel:** Functions logs –≤ dashboard

### GitHub Actions:
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ‚Üí Actions
- –°–º–æ—Ç—Ä–∏—Ç–µ —Å—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–ø—É—Å–∫–æ–≤

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS** –¥–ª—è webhook URL
2. **–ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ç–æ–∫–µ–Ω—ã** –≤ –∫–æ–¥ - —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –ø—Ä–∞–≤–∞ —Ç–æ–∫–µ–Ω–æ–≤** –¥–æ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö
4. **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Ç–æ–∫–µ–Ω—ã**

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∞—à —Å–∞–π—Ç –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –Ω–æ–≤–æ–º –æ—Ç–≤–µ—Ç–µ –≤ —Ñ–æ—Ä–º–µ:

1. **–°—Ç—É–¥–µ–Ω—Ç –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É** ‚úÖ
2. **Webhook –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ** ‚úÖ  
3. **–î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ API** ‚úÖ
4. **GitHub –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ñ–∞–π–ª –¥–∞–Ω–Ω—ã—Ö** ‚úÖ
5. **–°–∞–π—Ç –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è** ‚úÖ
6. **–ù–æ–≤—ã–π –æ—Ç–∑—ã–≤ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ** üéØ

**–í—Ä–µ–º—è –ø–æ–ª–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2-3 –º–∏–Ω—É—Ç—ã