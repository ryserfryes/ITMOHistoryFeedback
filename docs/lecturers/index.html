<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <title>Отзывы</title>
  <link rel="stylesheet" href="../static/css/styles.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
        rel="stylesheet">
</head>
<body>
  
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="../">Главная</a>
      <div>
        <a class="nav-link d-inline" href="../lecturers/">Лекторы</a>
        <a class="nav-link d-inline" href="../reviews/">Отзывы</a>
      </div>
    </div>
  </nav>
  

  <div class="container text-center py-4">
    
<h1>Лекторы</h1>

<div class="container-fluid">
  <table class="table table-hover" id="lecturers-table">
    <thead class="table-light">
      <tr>
        <th scope="col" class="sortable text-start" data-sort="name" style="cursor: pointer; user-select: none;">
          Лектор <span class="sort-arrow">↕</span>
        </th>
        <th scope="col" class="sortable text-center" data-sort="complexity" style="cursor: pointer; user-select: none;">
          Сложность <span class="sort-arrow">↕</span>
        </th>
        <th scope="col" class="sortable text-center" data-sort="interest" style="cursor: pointer; user-select: none;">
          Интерес <span class="sort-arrow">↕</span>
        </th>
        <th scope="col" class="sortable text-center" data-sort="reviews" style="cursor: pointer; user-select: none;">
          Отзывы <span class="sort-arrow">↕</span>
        </th>
      </tr>
    </thead>
    <tbody>
      
      <tr class="lecturer-row" data-name="Васильев Андрей Владимирович" data-complexity="4.5"
        data-interest="4.5" data-reviews="3">
        <td class="text-start">
          <a href="Васильев_Андрей_Владимирович/" class="text-decoration-none lecturer-link" data-lecturer="Васильев Андрей Владимирович">
            <strong>Васильев Андрей Владимирович</strong>
          </a>
          <br>
          <small class="text-muted">Наука и техника</small>
        </td>
        <td class="text-center align-middle">
          
          <strong style="font-size: 1.1em;">4.5</strong>
          
        </td>
        <td class="text-center align-middle">
          
          <strong style="font-size: 1.1em;">4.5</strong>
          
        </td>
        <td class="text-center align-middle">
          <strong style="font-size: 1.1em;">3</strong>
        </td>
      </tr>
      
      <tr class="lecturer-row" data-name="Пригодич Никита Дмитриевич" data-complexity="2.73"
        data-interest="6.18" data-reviews="12">
        <td class="text-start">
          <a href="Пригодич_Никита_Дмитриевич/" class="text-decoration-none lecturer-link" data-lecturer="Пригодич Никита Дмитриевич">
            <strong>Пригодич Никита Дмитриевич</strong>
          </a>
          <br>
          <small class="text-muted">ХХ век</small>
        </td>
        <td class="text-center align-middle">
          
          <strong style="font-size: 1.1em;">2.73</strong>
          
        </td>
        <td class="text-center align-middle">
          
          <strong style="font-size: 1.1em;">6.18</strong>
          
        </td>
        <td class="text-center align-middle">
          <strong style="font-size: 1.1em;">12</strong>
        </td>
      </tr>
      
      <tr class="lecturer-row" data-name="Вычеров Дмитрий Александрович" data-complexity="2.0"
        data-interest="5.67" data-reviews="3">
        <td class="text-start">
          <a href="Вычеров_Дмитрий_Александрович/" class="text-decoration-none lecturer-link" data-lecturer="Вычеров Дмитрий Александрович">
            <strong>Вычеров Дмитрий Александрович</strong>
          </a>
          <br>
          <small class="text-muted">Реформы и реформаторы</small>
        </td>
        <td class="text-center align-middle">
          
          <strong style="font-size: 1.1em;">2.0</strong>
          
        </td>
        <td class="text-center align-middle">
          
          <strong style="font-size: 1.1em;">5.67</strong>
          
        </td>
        <td class="text-center align-middle">
          <strong style="font-size: 1.1em;">3</strong>
        </td>
      </tr>
      
      <tr class="lecturer-row" data-name="Богомазов Николай Иванович" data-complexity="3.0"
        data-interest="8.86" data-reviews="9">
        <td class="text-start">
          <a href="Богомазов_Николай_Иванович/" class="text-decoration-none lecturer-link" data-lecturer="Богомазов Николай Иванович">
            <strong>Богомазов Николай Иванович</strong>
          </a>
          <br>
          <small class="text-muted">Международные отношения</small>
        </td>
        <td class="text-center align-middle">
          
          <strong style="font-size: 1.1em;">3.0</strong>
          
        </td>
        <td class="text-center align-middle">
          
          <strong style="font-size: 1.1em;">8.86</strong>
          
        </td>
        <td class="text-center align-middle">
          <strong style="font-size: 1.1em;">9</strong>
        </td>
      </tr>
      
      <tr class="lecturer-row" data-name="Жиркова Галина Петровна" data-complexity="3.0"
        data-interest="5.5" data-reviews="2">
        <td class="text-start">
          <a href="Жиркова_Галина_Петровна/" class="text-decoration-none lecturer-link" data-lecturer="Жиркова Галина Петровна">
            <strong>Жиркова Галина Петровна</strong>
          </a>
          <br>
          <small class="text-muted">Российская культуры</small>
        </td>
        <td class="text-center align-middle">
          
          <strong style="font-size: 1.1em;">3.0</strong>
          
        </td>
        <td class="text-center align-middle">
          
          <strong style="font-size: 1.1em;">5.5</strong>
          
        </td>
        <td class="text-center align-middle">
          <strong style="font-size: 1.1em;">2</strong>
        </td>
      </tr>
      
      <tr class="lecturer-row" data-name="Белоусов Александр Сергеевич" data-complexity="4.0"
        data-interest="9.0" data-reviews="3">
        <td class="text-start">
          <a href="Белоусов_Александр_Сергеевич/" class="text-decoration-none lecturer-link" data-lecturer="Белоусов Александр Сергеевич">
            <strong>Белоусов Александр Сергеевич</strong>
          </a>
          <br>
          <small class="text-muted">Наука и техника</small>
        </td>
        <td class="text-center align-middle">
          
          <strong style="font-size: 1.1em;">4.0</strong>
          
        </td>
        <td class="text-center align-middle">
          
          <strong style="font-size: 1.1em;">9.0</strong>
          
        </td>
        <td class="text-center align-middle">
          <strong style="font-size: 1.1em;">3</strong>
        </td>
      </tr>
      
      <tr class="lecturer-row" data-name="Мунжукова Светлана Игоревна" data-complexity="1.0"
        data-interest="8.0" data-reviews="1">
        <td class="text-start">
          <a href="Мунжукова_Светлана_Игоревна/" class="text-decoration-none lecturer-link" data-lecturer="Мунжукова Светлана Игоревна">
            <strong>Мунжукова Светлана Игоревна</strong>
          </a>
          <br>
          <small class="text-muted">Социальная история</small>
        </td>
        <td class="text-center align-middle">
          
          <strong style="font-size: 1.1em;">1.0</strong>
          
        </td>
        <td class="text-center align-middle">
          
          <strong style="font-size: 1.1em;">8.0</strong>
          
        </td>
        <td class="text-center align-middle">
          <strong style="font-size: 1.1em;">1</strong>
        </td>
      </tr>
      
    </tbody>
  </table>
</div>

<style>
  .sortable:hover {
    background-color: #e9ecef;
  }

  .sort-arrow {
    font-size: 0.8em;
    color: #6c757d;
  }

  .sortable.asc .sort-arrow::before {
    content: "↑";
  }

  .sortable.desc .sort-arrow::before {
    content: "↓";
  }

  .sortable.asc .sort-arrow,
  .sortable.desc .sort-arrow {
    color: #0d6efd;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const table = document.getElementById('lecturers-table');
    const tbody = table.querySelector('tbody');
    let currentSort = { column: null, direction: 'asc' };

    // Добавляем обработчики кликов на заголовки
    document.querySelectorAll('.sortable').forEach(header => {
      header.addEventListener('click', function () {
        const sortBy = this.dataset.sort;

        // Определяем направление сортировки
        if (currentSort.column === sortBy) {
          currentSort.direction = currentSort.direction === 'asc' ? 'desc' : 'asc';
        } else {
          currentSort.direction = 'desc'; // По умолчанию сортируем по убыванию для рейтингов
          if (sortBy === 'name') {
            currentSort.direction = 'asc'; // Для имен по возрастанию
          }
        }
        currentSort.column = sortBy;

        // Обновляем визуальные индикаторы
        document.querySelectorAll('.sortable').forEach(h => {
          h.classList.remove('asc', 'desc');
          h.querySelector('.sort-arrow').textContent = '↕';
        });

        this.classList.add(currentSort.direction);

        // Сортируем строки
        sortTable(sortBy, currentSort.direction);
      });
    });

    function sortTable(column, direction) {
      const rows = Array.from(tbody.querySelectorAll('.lecturer-row'));

      rows.sort((a, b) => {
        let aVal, bVal;

        if (column === 'name') {
          aVal = a.dataset.name.toLowerCase();
          bVal = b.dataset.name.toLowerCase();
          return direction === 'asc' ? aVal.localeCompare(bVal) : bVal.localeCompare(aVal);
        } else {
          aVal = parseFloat(a.dataset[column]) || 0;
          bVal = parseFloat(b.dataset[column]) || 0;
          return direction === 'asc' ? aVal - bVal : bVal - aVal;
        }
      });

      // Перестраиваем таблицу
      rows.forEach(row => tbody.appendChild(row));
    }

    // Инициальная сортировка по сложности (по убыванию)
    document.querySelector('[data-sort="complexity"]').click();
  });
</script>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../static/url-mapping.js"></script>
</body>
</html>